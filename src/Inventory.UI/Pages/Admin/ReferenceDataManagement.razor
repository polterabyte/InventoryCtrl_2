@page "/admin/reference-data"
@using Inventory.Shared.DTOs
@using Inventory.Shared.Interfaces
@using Inventory.Shared.Services
@using Inventory.UI.Components.Admin
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Components.Authorization
@attribute [Authorize(Roles = "Admin")]

<PageTitle>Reference Data Management - Admin</PageTitle>

<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2><i class="fas fa-cogs"></i> Reference Data Management</h2>
                <div class="text-muted">
                    <i class="fas fa-user-shield"></i> Administrator Panel
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link @(activeTab == "categories" ? "active" : "")" 
                                    @onclick="@(() => SetActiveTab("categories"))" 
                                    type="button" role="tab">
                                <i class="fas fa-tags"></i> Categories
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link @(activeTab == "manufacturers" ? "active" : "")" 
                                    @onclick="@(() => SetActiveTab("manufacturers"))" 
                                    type="button" role="tab">
                                <i class="fas fa-industry"></i> Manufacturers
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link @(activeTab == "units" ? "active" : "")" 
                                    @onclick="@(() => SetActiveTab("units"))" 
                                    type="button" role="tab">
                                <i class="fas fa-ruler"></i> Units of Measure
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link @(activeTab == "groups" ? "active" : "")" 
                                    @onclick="@(() => SetActiveTab("groups"))" 
                                    type="button" role="tab">
                                <i class="fas fa-layer-group"></i> Product Groups
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link @(activeTab == "models" ? "active" : "")" 
                                    @onclick="@(() => SetActiveTab("models"))" 
                                    type="button" role="tab">
                                <i class="fas fa-cube"></i> Product Models
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link @(activeTab == "warehouses" ? "active" : "")" 
                                    @onclick="@(() => SetActiveTab("warehouses"))" 
                                    type="button" role="tab">
                                <i class="fas fa-warehouse"></i> Warehouses
                            </button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        @if (activeTab == "categories")
                        {
                            <CategoryManagementWidget />
                        }
                        else if (activeTab == "manufacturers")
                        {
                            <ManufacturerManagementWidget />
                        }
                        else if (activeTab == "units")
                        {
                            <UnitOfMeasureManagementWidget />
                        }
                        else if (activeTab == "groups")
                        {
                            <ProductGroupManagementWidget />
                        }
                        else if (activeTab == "models")
                        {
                            <ProductModelManagementWidget />
                        }
                        else if (activeTab == "warehouses")
                        {
                            <WarehouseManagementWidget />
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private string activeTab = "categories";

    private void SetActiveTab(string tab)
    {
        activeTab = tab;
    }
}
