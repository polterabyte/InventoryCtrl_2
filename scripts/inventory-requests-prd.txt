# Product Requirements Document: Система управления заявками на товары

## Обзор проекта
Система управления инвентарем с расширенным функционалом заявок на товары, складскими операциями и отслеживанием товаров от заявки до установки.

## Основные функции

### 1. Система заявок на товары
- **Создание заявок**: Пользователи могут создавать заявки на товары для определенного склада
- **Автоматические заявки**: Система должна поддерживать автоматическое создание заявок на основе бизнес-логики (функционал будет реализован позже)
- **Отмена заявок**: Заявки можно отменять до их выполнения
- **Статусы заявок**: Отслеживание статуса заявки (создана, в обработке, выполнена, отменена)

### 2. Складские операции
- **Поступление товаров**: Ожидание и регистрация поступления товаров на склад
- **Постановка на склад**: Размещение товаров на складе с определением места хранения
- **Уникальные коды мест хранения**: Каждое место хранения должно иметь уникальный QR-код
- **Перемещение товаров**: Возможность перемещения товаров между местами хранения и складами

### 3. Установка и использование товаров
- **Установка на оборудование**: Товары могут быть установлены на объекты/оборудование
- **Списание товаров**: Возможность списания товаров как со склада, так и прямо с оборудования
- **Отслеживание местоположения**: Полное отслеживание местоположения товара от заявки до установки

### 4. Ролевая модель и права доступа
- **Manager и выше**: Могут выполнять все операции (создание заявок, складские операции, установка, списание)
- **User**: Может только просматривать информацию и формировать отчеты

## Технические требования

### Backend (ASP.NET Core 8.0)
- Новые контроллеры для управления заявками
- Расширение существующих моделей для поддержки заявок
- Интеграция с существующей системой аутентификации и авторизации
- SignalR уведомления для обновлений статусов заявок

### Frontend (Blazor WebAssembly)
- Новые страницы для управления заявками
- Компоненты для создания и просмотра заявок
- Интеграция с существующей системой уведомлений
- QR-код генерация и сканирование для мест хранения

### База данных
- Новые таблицы для заявок и их статусов
- Расширение существующих таблиц товаров и складов
- Связи между заявками, товарами и местами хранения

## Пользовательские сценарии

### Сценарий 1: Создание заявки на товар
1. Пользователь (Manager+) заходит в систему
2. Выбирает "Создать заявку"
3. Указывает товар, количество, целевой склад
4. Система создает заявку со статусом "Создана"
5. Отправляется уведомление ответственным за склад

### Сценарий 2: Обработка поступления товара
1. Товар поступает на склад
2. Сотрудник склада регистрирует поступление
3. Система обновляет статус заявки на "Товар поступил"
4. Отправляется уведомление заявителю

### Сценарий 3: Размещение товара на складе
1. Сотрудник склада сканирует QR-код места хранения
2. Указывает товар и количество
3. Система регистрирует размещение
4. Обновляется статус заявки на "Размещен на складе"

### Сценарий 4: Установка товара
1. Пользователь (Manager+) берет товар с места хранения
2. Указывает объект/оборудование для установки
3. Система регистрирует установку
4. Обновляется статус заявки на "Установлен"

## Критерии успеха
- Полное отслеживание товара от заявки до установки
- Удобный интерфейс для всех ролей пользователей
- Автоматические уведомления о изменениях статусов
- Интеграция с существующей системой управления инвентарем
- Поддержка QR-кодов для мест хранения
- Возможность отмены заявок на любом этапе

## Ограничения и предположения
- Автоматические заявки будут реализованы в будущих версиях
- QR-коды генерируются автоматически системой
- Все операции логируются для аудита
- Система должна работать в реальном времени через SignalR


