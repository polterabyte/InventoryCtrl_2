# Environment Configuration for Inventory Control System
# Copy this file to .env and modify the values as needed

# Server / Domain Configuration (optional; used by nginx/proxy templates)
SERVER_IP=127.0.0.1
DOMAIN=warehouse.cuby
STAGING_DOMAIN=staging.warehouse.cuby
TEST_DOMAIN=test.warehouse.cuby

# Database Configuration
POSTGRES_PASSWORD=postgres
POSTGRES_DB=inventorydb_staging
POSTGRES_USER=postgres

# ASP.NET connection string mapping (preferred over appsettings)
# Will read as Configuration.GetConnectionString("DefaultConnection")
ConnectionStrings__DefaultConnection=Host=postgres;Port=5432;Database=${POSTGRES_DB};Username=${POSTGRES_USER};Password=${POSTGRES_PASSWORD}

# JWT Configuration (mapped to Jwt__* for ASP.NET)
JWT_KEY=secre29c3f16847c8a8b70a3984fecfd702d8f630ae1d45eb2b39605b233d16231c60t_key
JWT_ISSUER=InventoryServer
JWT_AUDIENCE=InventoryClient
JWT_EXPIRE_MINUTES=15
JWT_REFRESH_EXPIRE_DAYS=7

# Application Configuration
ASPNETCORE_ENVIRONMENT=Production
ASPNETCORE_URLS=http://+:80

# API base URL for server-side HttpClient (LocationApiService)
# Used by ASP.NET via builder.Configuration["ApiUrl"]
ApiUrl=http://192.168.139.121

# API Configuration
API_PORT=5000
API_HTTPS_PORT=7000

# CORS Configuration (comma-separated list)
CORS_ALLOWED_ORIGINS=${ApiUrl},http://staging.warehouse.cuby

# Web Client Configuration
WEB_PORT=80
WEB_HTTPS_PORT=443

# Database Port
DATABASE_PORT=5432

# Admin bootstrap (optional). If ADMIN_PASSWORD is empty, the admin will be created without a password
ADMIN_EMAIL=admin@localhost
ADMIN_USERNAME=admin
ADMIN_PASSWORD=Admin123!

# SSL Configuration (for production)
SSL_CERT_PATH=./deploy/nginx/ssl/cert.pem
SSL_KEY_PATH=./deploy/nginx/ssl/key.pem

# Logging Configuration
LOG_LEVEL=Information
LOG_FILE_PATH=/app/logs

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Rate Limiting
API_RATE_LIMIT=10r/s
WEB_RATE_LIMIT=30r/s

# Resource Limits (for production)
API_MEMORY_LIMIT=1G
API_MEMORY_RESERVATION=512M
WEB_MEMORY_LIMIT=256M
WEB_MEMORY_RESERVATION=128M
DATABASE_MEMORY_LIMIT=512M
DATABASE_MEMORY_RESERVATION=256M
